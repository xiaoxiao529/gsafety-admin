(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1184:function(e,t,l){"use strict";l.r(t);l(242),l(101),l(491),l(2),l(3),l(4),l(5);var r={components:{Pagination:l(478).a},data:function(){return{isLoading:!1,dialogFormVisible:!1,deviceInfoList:[],labelWidth:"100px",types:[{value:"0",label:"仓库入库"},{value:"1",label:"直发采购入库"},{value:"2",label:"回退入库"},{value:"3",label:"仓库出库"},{value:"4",label:"直发采购出库"},{value:"5",label:"销库出库"}],applyTypes:[{value:null,label:"无"},{value:0,label:"运营中心"},{value:1,label:"企业项目"},{value:2,label:"其他"}],serchForm:{recordType:"",oprationUser:"",DataSelect:"",beginDate:"",endDate:""},tableData:[],widgetInfo:{pageSize:10,pageNo:1,total:0}}},mounted:function(){this.getDeviceByRecordId()},methods:{getTableData:function(){var e=this;this.isLoading=!0,this.$axios.$POST({api_name:"getRopositoryRecordPage",params:{oprationUser:this.serchForm.oprationUser,recordType:this.serchForm.recordType,beginDate:this.serchForm.beginDate,endDate:this.serchForm.endDate,pageNo:this.widgetInfo.pageNo,pageSize:this.widgetInfo.pageSize}}).then(function(t){if("success"==t.data.code){e.isLoading=!1;var data=t.data.data;e.tableData=data.rows,e.widgetInfo.total=null===data.total?0:data.total}else e.tableData=[],e.widgetInfo.list=t.data.rows,e.widgetInfo.total=0,console.log("没有数值。。。。。")})},getDeviceByRecordId:function(e){var t=this;t.isLoading=!0,t.$axios.$POST({api_name:"getDeviceByRecordId",params:{recordId:e}}).then(function(e){"success"==e.data.code?(t.isLoading=!1,t.deviceInfoList=e.data.data):console.log("没有数值。。。。。")})},look:function(e){this.dialogFormVisible=!0,this.getDeviceByRecordId(e)},transform:function(e,t){return t.find(function(t){return t.value==e}).label},serch:function(){var e=this.serchForm.DataSelect[0],t=this.serchForm.DataSelect[1];this.serchForm.pageNo=1,Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var l in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+l+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[l]:("00"+t[l]).substr((""+t[l]).length)));return e},null!=e&&e instanceof Date&&(e=e.format("yyyy-MM-dd hh:mm")),null!=t&&t instanceof Date&&(t=t.format("yyyy-MM-dd hh:mm")),""==this.serchForm.DataSelect?(this.serchForm.beginDate="",this.serchForm.endDate=""):(this.serchForm.beginDate=e,this.serchForm.endDate=t),this.getTableData()},rest:function(e){this.$refs[e].resetFields(),this.serchForm.DataSelect="",this.getTableData()},sonHandleCurrentChange:function(e){this.widgetInfo.pageSize=e.pageSize?parseInt(e.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=e.pageNo?parseInt(e.pageNo):this.widgetInfo.pageNo,this.getTableData()}}},o=(l(801),l(17)),component=Object(o.a)(r,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{staticClass:"Crumbs"},[l("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[l("el-breadcrumb-item",[e._v("硬件平台")]),e._v(" "),l("el-breadcrumb-item",[e._v("出入库记录")])],1)],1),e._v(" "),l("div",{staticClass:"main-wrap"},[l("div",{staticClass:"location"},[e._v("出入库记录")]),e._v(" "),l("div",{staticClass:"main-container"},[l("el-form",{ref:"serchForm",staticClass:"hardware-form",attrs:{inline:!0,model:e.serchForm}},[l("el-form-item",{staticClass:"recordType",attrs:{label:"类型:",prop:"recordType","label-width":e.labelWidth}},[l("el-select",{attrs:{placeholder:"请选择",filterable:""},model:{value:e.serchForm.recordType,callback:function(t){e.$set(e.serchForm,"recordType","string"==typeof t?t.trim():t)},expression:"serchForm.recordType"}},e._l(e.types,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{staticClass:"oprationUser",attrs:{label:"操作人:",prop:"oprationUser","label-width":e.labelWidth}},[l("el-input",{model:{value:e.serchForm.oprationUser,callback:function(t){e.$set(e.serchForm,"oprationUser","string"==typeof t?t.trim():t)},expression:"serchForm.oprationUser"}})],1),e._v(" "),l("el-form-item",{staticClass:"DataSelect",attrs:{label:"操作时间:",prop:"time","label-width":e.labelWidth}},[l("el-date-picker",{attrs:{type:"datetimerange","range-separator":" 至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd hh:mm"},model:{value:e.serchForm.DataSelect,callback:function(t){e.$set(e.serchForm,"DataSelect","string"==typeof t?t.trim():t)},expression:"serchForm.DataSelect"}})],1),e._v(" "),l("el-form-item",{staticClass:"serch-btn",staticStyle:{width:"20%"},attrs:{label:""}},[l("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.serch()}}},[e._v("查询")]),e._v(" "),l("el-button",{attrs:{size:"small"},on:{click:function(t){return e.rest("serchForm")}}},[e._v("重置")])],1)],1),e._v(" "),l("div",{staticClass:"list-wrap"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.isLoading,expression:"isLoading",modifiers:{lock:!0}}],attrs:{data:e.tableData,"show-overflow-tooltip":""}},[l("el-table-column",{attrs:{label:"申请信息","show-overflow-tooltip":"",align:"left","min-width":"30%"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("p",[l("span",{staticClass:"scope-span"},[e._v("申请类型："+e._s(e.transform(t.row.applyType,e.applyTypes)))]),e._v(" "),l("span",{staticClass:"scope-span"},[e._v("运营中心："+e._s(t.row.applyOrg))])]),e._v(" "),l("p",[l("span",{staticClass:"scope-span"},[e._v("业主单位："+e._s(t.row.applyUnit))]),e._v(" "),l("span",{staticClass:"scope-span"},[e._v("申请人："+e._s(t.row.applyPerson))])])])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"设计金额/元",prop:"totalAmount","show-overflow-tooltip":"",align:"left","min-width":"10%"}}),e._v(" "),l("el-table-column",{attrs:{label:"类型",prop:"recordType","show-overflow-tooltip":"",align:"left","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.transform(t.row.recordType,e.types)))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作时间",prop:"createTime","show-overflow-tooltip":"",align:"left","min-width":"15%"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作人",prop:"createUserName","show-overflow-tooltip":"",align:"left","min-width":"10%"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作人",prop:"createUserName","show-overflow-tooltip":"",align:"left","min-width":"10%"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作","min-width":"10%","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",[l("el-link",{attrs:{type:"primary"},on:{click:function(l){return e.look(t.row.id)}}},[e._v("设备信息")])],1)]}}])})],1)],1),e._v(" "),l("Pagination",{attrs:{widgetInfo:e.widgetInfo},on:{sonHandleCurrentChange:e.sonHandleCurrentChange}})],1)]),e._v(" "),l("el-dialog",{attrs:{title:"设备信息",visible:e.dialogFormVisible,width:"960px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("div",{staticClass:"deviceInfoList-wrap"},[l("el-table",{staticClass:"deviceInfoList-table",attrs:{data:e.deviceInfoList}},[l("el-table-column",{attrs:{label:"序号",prop:"deviceName",type:"index",align:"left","min-width":"15%"}}),e._v(" "),l("el-table-column",{attrs:{label:"硬件ID",prop:"id",align:"left","min-width":"10%"}}),e._v(" "),l("el-table-column",{attrs:{label:"硬件名称",prop:"deviceName",align:"left","min-width":"10%"}}),e._v(" "),l("el-table-column",{attrs:{label:"硬件类型",prop:"deviceTypeName",align:"left","min-width":"10%"}}),e._v(" "),l("el-table-column",{attrs:{label:"厂家",prop:"brand",align:"left","min-width":"10%"}}),e._v(" "),l("el-table-column",{attrs:{label:"型号",prop:"model",align:"left","min-width":"10%"}}),e._v(" "),l("el-table-column",{attrs:{label:"供应商",prop:"supplier",align:"left","min-width":"10%"}}),e._v(" "),l("el-table-column",{attrs:{label:"单价",prop:"deviceId",align:"left","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.price)+"元/"+e._s(t.row.measurementUnit))]}}])})],1)],1)])],1)},[],!1,null,"6966d2fa",null);t.default=component.exports},478:function(e,t,l){"use strict";l(2),l(3),l(4),l(5);var r={props:{widgetInfo:Object},data:function(){return{}},methods:{handleSizeChange:function(e){this.pageSize=e,this.$emit("sonHandleCurrentChange",{pageSize:this.pageSize})},handleCurrentChange:function(e){this.$emit("sonHandleCurrentChange",{pageNo:e})}},mounted:function(){this.$emit("sonHandleCurrentChange",{pageSize:10,pageNo:1})}},o=l(17),component=Object(o.a)(r,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-pagination",{attrs:{"current-page":this.widgetInfo.pageNo,"page-sizes":[10,15,20,25],"page-size":this.widgetInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.widgetInfo.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],1)},[],!1,null,null,null);t.a=component.exports},491:function(e,t,l){"use strict";var r=l(15),o=l(504)(5),n=!0;"find"in[]&&Array(1).find(function(){n=!1}),r(r.P+r.F*n,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),l(158)("find")},504:function(e,t,l){var r=l(53),o=l(157),n=l(54),d=l(41),c=l(505);e.exports=function(e,t){var l=1==e,f=2==e,h=3==e,m=4==e,v=6==e,w=5==e||v,y=t||c;return function(t,c,_){for(var x,D,C=n(t),S=o(C),F=r(c,_,3),I=d(S.length),k=0,z=l?y(t,I):f?y(t,0):void 0;I>k;k++)if((w||k in S)&&(D=F(x=S[k],k,C),e))if(l)z[k]=D;else if(D)switch(e){case 3:return!0;case 5:return x;case 6:return k;case 2:z.push(x)}else if(m)return!1;return v?-1:h||m?m:z}}},505:function(e,t,l){var r=l(506);e.exports=function(e,t){return new(r(e))(t)}},506:function(e,t,l){var r=l(18),o=l(241),n=l(6)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[n])&&(t=void 0)),void 0===t?Array:t}},603:function(e,t,l){var content=l(802);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(14).default)("f51409ae",content,!0,{sourceMap:!1})},801:function(e,t,l){"use strict";var r=l(603);l.n(r).a},802:function(e,t,l){(e.exports=l(13)(!1)).push([e.i,".list-wrap[data-v-6966d2fa]{width:100%;overflow:hidden}.list-wrap[data-v-6966d2fa] .el-table{width:100%;padding:0;overflow:hidden}.list-wrap[data-v-6966d2fa] .el-table th{background:#f0f3f7}.list-wrap[data-v-6966d2fa] .el-table .el-table__body-wrapper{height:calc(100vh - 430px);overflow-y:auto}.hardware-form[data-v-6966d2fa]{font-size:0;padding:20px 20px 0}.hardware-form .el-form-item[data-v-6966d2fa]{width:20%;display:-webkit-inline-box;display:inline-flex;margin-right:0}.hardware-form .el-form-item .el-select[data-v-6966d2fa]{width:100%}.hardware-form .serch-btn button[data-v-6966d2fa]:first-child{margin-left:10px}[data-v-6966d2fa] .el-pagination{margin:0;padding-top:20px}@media screen and (max-width:1680px){.list-wrap[data-v-6966d2fa] .el-table .el-table__body-wrapper{height:calc(100vh - 410px)}}.main-wrap[data-v-6966d2fa] .el-table .el-icon-arrow-right{font-size:17px;font-weight:700;color:#b7b5b5}.main-wrap[data-v-6966d2fa] .el-table .scope-span{margin-right:15px}.main-wrap[data-v-6966d2fa] .el-table .el-table__expanded-cell[class*=cell]{padding:0}.main-wrap[data-v-6966d2fa] .el-table .el-table__expanded-cell[class*=cell] th{background:#e7eaef}.main-wrap[data-v-6966d2fa] .el-table .el-table__expanded-cell[class*=cell] tr{background:#f5f7fc}.main-wrap[data-v-6966d2fa] .el-form .el-form-item{width:20%}.main-wrap[data-v-6966d2fa] .el-form .el-form-item.DataSelect{width:27%}.main-wrap[data-v-6966d2fa] .el-form .el-form-item__content{width:calc(100% - 100px)}.deviceInfoList-wrap[data-v-6966d2fa] .el-table .el-table__body-wrapper{height:auto;min-height:250px;overflow-y:auto}[data-v-6966d2fa] .el-dialog__wrapper{overflow:hidden}@media screen and (max-width:1680px){.main-wrap[data-v-6966d2fa] .el-form .el-form-item.DataSelect{width:30%}}",""])}}]);