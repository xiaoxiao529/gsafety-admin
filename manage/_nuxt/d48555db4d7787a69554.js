(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1180:function(e,t,o){"use strict";o.r(t);o(2),o(3),o(4),o(5),o(689);var l={data:function(){return{inforId:"",labelWidth:"100px",formData:{informationTitle:"",informationSource:"",fileList:[],infoTime:"",publishDate:""},content:"<p>hello world</p>",editorOption:{},btnArr:[{name:"App",id:0,isActive:!1},{name:"web",id:1,isActive:!1},{name:"大屏",id:2,isActive:!1}],isChange:-1,rules:{publishDate:[{required:!0,message:"请选择发布时间",trigger:"change"}],informationTitle:[{required:!0,message:"资讯标题不能为空",trigger:"blur"}],informationSource:[{required:!0,message:"资讯来源不能为空",trigger:"blur"}]}}},methods:{onEditorReady:function(e){},isChoose:function(e,t){this.btnArr[t].isActive=!this.btnArr[t].isActive},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){},saveHtml:function(e){alert(this.content)},showDetail:function(){var e=this,t=this;this.$axios.$POST_NEW({api_name:"queryInformationById",params:{inforId:t.inforId}}).then(function(o){if("success"==o.data.code&&o.data.data){var l=o.data.data;console.log(l.informationContent),e.content=l.informationContent,t.formData=l}else e.content="暂无数据."})},backHandle:function(){this.$router.push({name:"informationManager"})},saveButton:function(e){var t=this,o=this;return-1==this.isChange?(this.$message.error("请选择发布对象"),!1):""==this.content?(this.$message.error("请填写资讯内容"),!1):void this.$refs[e].validate(function(e){if(!e)return!1;t.$axios.$POST_NEW({api_name:"saveServiceInformationInfo",params:{id:o.inforId,subCenterCode:"",informationTitle:t.formData.informationTitle,informationSource:t.formData.informationSource,publishTarget:t.isChange,informationContent:t.content,publishDate:t.formData.publishDate,breviaryImgUrl:""}}).then(function(e){"success"==e.data.code?(t.$message.success(e.data.message),t.$router.push({name:"informationManager"})):t.$message.error(e.data.message)}).catch(function(){})})}},mounted:function(){this.inforId=localStorage.getItem("inforId"),this.showDetail()}},r=(o(866),o(868),o(18)),component=Object(r.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"Crumbs"},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",[e._v("运营中心")]),e._v(" "),o("el-breadcrumb-item",[e._v("资讯管理")]),e._v(" "),o("el-breadcrumb-item",[e._v("编辑资讯")])],1)],1),e._v(" "),o("div",[o("a",{staticClass:"yy-form-back",attrs:{href:"javascript:;"},on:{click:e.backHandle}},[o("i",{staticClass:"iconfont icon-arrow-2 backC"})]),e._v(" "),o("el-form",{ref:"formData",staticClass:"hardware-form",attrs:{model:e.formData,rules:e.rules}},[o("el-form-item",{attrs:{label:"资讯标题:","label-width":e.labelWidth,prop:"informationTitle"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formData.informationTitle,callback:function(t){e.$set(e.formData,"informationTitle","string"==typeof t?t.trim():t)},expression:"formData.informationTitle"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"资讯来源:","label-width":e.labelWidth,prop:"informationSource"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formData.informationSource,callback:function(t){e.$set(e.formData,"informationSource","string"==typeof t?t.trim():t)},expression:"formData.informationSource"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"发布对象:","label-width":e.labelWidth}},e._l(e.btnArr,function(t,l){return o("el-button",{class:{isActive:t.isActive},on:{click:function(o){return e.isChoose(t,l)}}},[e._v(e._s(t.name))])}),1),e._v(" "),o("el-form-item",{attrs:{label:"App缩略图:","label-width":e.labelWidth}},[o("el-upload",{staticClass:"upload-demo",attrs:{action:"/gsafetyclound/userCenter/enclosureManage/uploadfile",limit:1}},[o("el-button",{attrs:{size:"small",type:"primary"}},[o("i",{staticClass:"el-icon-circle-plus"}),e._v("上传文件")]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("* 支持jpg/png/bmp格式")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"资讯内容:","label-width":e.labelWidth}},[o("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},ready:function(t){return e.onEditorReady(t)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"发布时间:","label-width":e.labelWidth,prop:"publishDate"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.formData.publishDate,callback:function(t){e.$set(e.formData,"publishDate",t)},expression:"formData.publishDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"发布时间:","label-width":e.labelWidth}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveButton("formData")}}},[e._v("完成并提交")])],1)],1)],1)])},[],!1,null,"37e87e7c",null);t.default=component.exports},655:function(e,t,o){var content=o(867);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("44543077",content,!0,{sourceMap:!1})},656:function(e,t,o){var content=o(869);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(10).default)("3eccd4de",content,!0,{sourceMap:!1})},866:function(e,t,o){"use strict";var l=o(655);o.n(l).a},867:function(e,t,o){(e.exports=o(9)(!1)).push([e.i,"body[data-v-37e87e7c]{color:red}.el-button.isActive[data-v-37e87e7c]{color:#009cff;background-color:#fff;border-color:#009cff}.el-button.isActive b[data-v-37e87e7c]{display:block}.yy-form-back[data-v-37e87e7c]{text-decoration:none}.yy-form-back .iconfont[data-v-37e87e7c]{font-size:26px;color:#737373}#inforDetail[data-v-37e87e7c]{padding:10px;background:#fff}",""])},868:function(e,t,o){"use strict";var l=o(656);o.n(l).a},869:function(e,t,o){(e.exports=o(9)(!1)).push([e.i,'.editor{line-height:normal!important;height:800px}.ql-snow .ql-tooltip[data-mode=link]:before{content:"请输入链接地址:"}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-right:0;content:"保存";padding-right:0}.ql-snow .ql-tooltip[data-mode=video]:before{content:"请输入视频地址:"}.ql-snow .ql-picker.ql-size .ql-picker-item:before,.ql-snow .ql-picker.ql-size .ql-picker-label:before{content:"14px"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before{content:"10px"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before{content:"18px"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before{content:"32px"}.ql-snow .ql-picker.ql-header .ql-picker-item:before,.ql-snow .ql-picker.ql-header .ql-picker-label:before{content:"文本"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before{content:"标题1"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before{content:"标题2"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before{content:"标题3"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before{content:"标题4"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]:before{content:"标题5"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]:before{content:"标题6"}.ql-snow .ql-picker.ql-font .ql-picker-item:before,.ql-snow .ql-picker.ql-font .ql-picker-label:before{content:"标准字体"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before{content:"衬线字体"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before{content:"等宽字体"}',""])}}]);