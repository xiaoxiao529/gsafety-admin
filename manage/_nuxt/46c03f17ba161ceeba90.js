(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1164:function(e,t,r){"use strict";r.r(t);r(33),r(250),r(2),r(3),r(4),r(5);var l={components:{},data:function(){return{roomData:[],id:null,labelPosition:"right",isLoading:!1,operationTypeDisable:null,operationChecked:!1,bigScreenDisable:!0,bigScreenChecked:null,startTime:"",endTime:"",pickerReadonly:!0,fromParent:{},serviceTypeData:[{value:"",label:"请选择"}],unitParentGroupData:[{value:"",label:"请选择"}],serviceStatus:[{value:"",label:"请选择"},{value:"0",label:"待服务"},{value:"1",label:"服务中"},{value:"2",label:"服务期满"}],unitTypeData:[{value:"01",label:"单一型"},{value:"02",label:"集团型"}],joinTypeData:[{value:"0",label:"直接发展"},{value:"1",label:"深度合作伙伴"}],companyTypeData:[{value:"0",label:"集团总公司"},{value:"1",label:"集团分公司"}]}},computed:{},created:function(){},mounted:function(){var e=this._Storage.getObj("ownerunitEditRow","obj");this.id=e.id,this.findAllSubCenterCode()},methods:{findAllSubCenterCode:function(){var e=this;this.isLoading=!0;var t=this;this.$axios.$POST_NEW({api_name:"editEnterpriseUnitById",params:{id:t.id}}).then(function(r){if(e.isLoading=!1,"success"==r.data.code){t.fromParent=JSON.parse(JSON.stringify(r.data.data)),t.roomData=[],t.roomData=JSON.parse(t.fromParent.firecontrolroomInfo),t.getCheckBoxState();var data=[e.$axios.$POST_NEW({api_name:"findAllParentUnit"}),e.$axios.$POST_NEW({api_name:"queryGeneralOrgServiceType"}),e.$axios.$POST_NEW({api_name:"queryDistrictCascode"})];t.$axios.$AllRequst({data:data,callback:function(e){for(var l in e)"success"==e[l].data.code?(-1!=e[l].config.url.search("findAllParentUnit")&&(t.unitParentGroupData=e[l].data.data,t.unitParentGroupData.unshift({value:"",label:"请选择"})),-1!=e[l].config.url.search("queryGeneralOrgServiceType")&&(t.serviceTypeData=e[l].data.data,t.serviceTypeData.unshift({value:"",label:"请选择"}))):t.$message.warning(r.data.message)}})}else t.$message.warning(r.data.message)})},getCheckBoxState:function(){"1"==this.fromParent.operationType&&"02"==this.fromParent.enterpriseUnitType?this.operationChecked=!0:"01"==this.fromParent.enterpriseUnitType&&(this.operationTypeDisable=!0,this.operationChecked=!1),"2"!=this.fromParent.enterpriseUnitServiceModel&&"3"!=this.fromParent.enterpriseUnitServiceModel||(this.bigScreenDisable=!1,"1"==this.fromParent.screenFlag&&(this.bigScreenDisable=!1,this.bigScreenChecked=!0)),"9"==this.fromParent.status?this.pickerReadonly=!0:"0"==this.fromParent.status?(this.pickerReadonly=!1,this.fromParent.serverHisInfo.length):this.pickerReadonly=!0},handleRemove:function(e,t){console.log(e,t),this.fromParent.enterpriseUnitAttachment=[]},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("每次最多上传 1 个文件!")},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},handleFileSuccess:function(e,t){"success"==e.code&&console.log(e.data.url)},handleFileError:function(e,t,r){console.log(e,t,r)},submitUpload:function(){this.$refs.upload.submit()},UploadImage:function(param){var e=new FormData;e.append("enterpriseFile",param.file),this.$axios.$POSTFile({api_name:"uploadEnterpriseAttach",fb:e}).then(function(e){e.data.code})},savaEdit:function(e,t){console.log(e,t)}}},n=(r(855),r(17)),component=Object(n.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"Crumbs"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("业主单位管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("编辑业主单位管理信息")])],1)],1),e._v(" "),r("div",{staticClass:"main-wrap"},[r("el-tabs",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.isLoading,expression:"isLoading",modifiers:{lock:!0}}],staticClass:"top-tab"},[r("div",{staticClass:"tab-content"},[r("h3",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[e._v("基础信息")]),e._v(" "),r("div",{staticClass:"tab-content-detail"},[r("el-form",{staticClass:"basic-information",attrs:{model:e.fromParent,"label-width":"120px","label-position":e.labelPosition}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"企业名称:",rules:[{required:!0}]}},[r("el-input",{attrs:{disabled:!0},model:{value:e.fromParent.unitName,callback:function(t){e.$set(e.fromParent,"unitName","string"==typeof t?t.trim():t)},expression:"fromParent.unitName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"统一信用编码:"}},[r("el-input",{attrs:{placeholder:"请输入",disabled:!1},model:{value:e.fromParent.unitCreditCode,callback:function(t){e.$set(e.fromParent,"unitCreditCode","string"==typeof t?t.trim():t)},expression:"fromParent.unitCreditCode"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"企业地址:",required:"",rules:[{required:!0}]}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:""},model:{value:e.fromParent.serviceStatus,callback:function(t){e.$set(e.fromParent,"serviceStatus","string"==typeof t?t.trim():t)},expression:"fromParent.serviceStatus"}},e._l(e.serviceStatus,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"详细地址:",rules:[{required:!0}]}},[r("el-input",{attrs:{disabled:!1},model:{value:e.fromParent.unitAddress,callback:function(t){e.$set(e.fromParent,"unitAddress","string"==typeof t?t.trim():t)},expression:"fromParent.unitAddress"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"接入渠道:",rules:[{required:!0}]}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择",filterable:""},model:{value:e.fromParent.enterpriseUnitAccessChannel,callback:function(t){e.$set(e.fromParent,"enterpriseUnitAccessChannel","string"==typeof t?t.trim():t)},expression:"fromParent.enterpriseUnitAccessChannel"}},e._l(e.joinTypeData,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"服务模式:",rules:[{required:!0}]}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择",filterable:""},model:{value:e.fromParent.enterpriseUnitServiceModel,callback:function(t){e.$set(e.fromParent,"enterpriseUnitServiceModel","string"==typeof t?t.trim():t)},expression:"fromParent.enterpriseUnitServiceModel"}},e._l(e.serviceTypeData,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"企业种类:",required:"",rules:[{required:!0}]}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择",filterable:""},model:{value:e.fromParent.enterpriseUnitType,callback:function(t){e.$set(e.fromParent,"enterpriseUnitType","string"==typeof t?t.trim():t)},expression:"fromParent.enterpriseUnitType"}},e._l(e.unitTypeData,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"公司类型:",rules:[{required:!0}]}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择",filterable:""},model:{value:e.fromParent.enterpriseCompanyType,callback:function(t){e.$set(e.fromParent,"enterpriseCompanyType","string"==typeof t?t.trim():t)},expression:"fromParent.enterpriseCompanyType"}},e._l(e.companyTypeData,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"所属集团:"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,placeholder:"请选择",filterable:""},model:{value:"-1"==e.fromParent.unitParentId?"":e.fromParent.unitParentId,callback:function(t){e.$set("-1"==e.fromParent.unitParentId?"":e.fromParent,"unitParentId","string"==typeof t?t.trim():t)},expression:"fromParent.unitParentId=='-1'?'':fromParent.unitParentId"}},e._l(e.unitParentGroupData,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-checkbox",{attrs:{disabled:e.operationTypeDisable,checked:e.operationChecked}},[e._v("分配到签入运营中心")])]}}])})],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",[[r("el-checkbox",{attrs:{disabled:e.bigScreenDisable,checked:e.bigScreenChecked}},[e._v("企业提供VIP服务(大屏展示系统)")])]],2)],1)],1)],1)],1),e._v(" "),r("h3",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[e._v("联系信息")]),e._v(" "),r("div",{staticClass:"tab-content-detail"},[r("el-form",{staticClass:"basic-information",attrs:{model:e.fromParent,"label-width":"160px","label-position":e.labelPosition}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"企业法人:"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.fromParent.legalperson,callback:function(t){e.$set(e.fromParent,"legalperson","string"==typeof t?t.trim():t)},expression:"fromParent.legalperson"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"法人联系电话:"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.fromParent.legalpersonTel,callback:function(t){e.$set(e.fromParent,"legalpersonTel","string"==typeof t?t.trim():t)},expression:"fromParent.legalpersonTel"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"企业联系人:",rules:[{required:!0}]}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.fromParent.unitContact,callback:function(t){e.$set(e.fromParent,"unitContact","string"==typeof t?t.trim():t)},expression:"fromParent.unitContact"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"企业联系人电话:",rules:[{required:!0}]}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.fromParent.unitContactTel,callback:function(t){e.$set(e.fromParent,"unitContactTel","string"==typeof t?t.trim():t)},expression:"fromParent.unitContactTel"}})],1)],1)],1)],1)],1),e._v(" "),r("h3",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[e._v("消控室信息")]),e._v(" "),r("div",{staticClass:"tab-content-detail"},[e._l(e.roomData,function(t){return[r("el-form",{staticClass:"basic-information",staticStyle:{"margin-top":"20px","margin-bottom":"20px"},attrs:{model:t,"label-width":"160px","label-position":e.labelPosition}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"消控室名称:"}},[r("el-input",{attrs:{placeholder:"请输入消控室名称"},model:{value:t.firecontrolroomName,callback:function(r){e.$set(t,"firecontrolroomName","string"==typeof r?r.trim():r)},expression:"item.firecontrolroomName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"消控室电话:",rules:[{required:!0}]}},[r("el-input",{attrs:{placeholder:"请输入消控室电话"},model:{value:t.firecontrolroomTel,callback:function(r){e.$set(t,"firecontrolroomTel","string"==typeof r?r.trim():r)},expression:"item.firecontrolroomTel"}})],1)],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.fcroomperList}},[r("el-table-column",{attrs:{label:"消控室人员姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{attrs:{placeholder:"请输入消控室人员姓名"},model:{value:t.row.personnelName,callback:function(r){e.$set(t.row,"personnelName","string"==typeof r?r.trim():r)},expression:"scope.row.personnelName"}})]}}],null,!0)}),e._v(" "),r("el-table-column",{attrs:{label:"消控室人员电话"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{attrs:{placeholder:"请输入消控室人员电话"},model:{value:t.row.personnelTel,callback:function(r){e.$set(t.row,"personnelTel","string"==typeof r?r.trim():r)},expression:"scope.row.personnelTel"}})]}}],null,!0)}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"primary"},on:{click:function(r){return e.savaEdit(t.$index,t.row)}}},[e._v("保存")])]}}],null,!0)})],1)],1)]})],2),e._v(" "),r("h3",{staticClass:"title",staticStyle:{"margin-top":"20px"}},[e._v("合同上传")]),e._v(" "),r("div",{staticClass:"tab-content-detail"},[r("el-form",{staticClass:"basic-information",attrs:{model:e.fromParent,"label-width":"160px","label-position":e.labelPosition}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"服务期始:"}},[[r("div",{staticClass:"block"},[r("span",{staticClass:"demonstration"}),e._v(" "),r("el-date-picker",{attrs:{type:"date",disabled:e.pickerReadonly,placeholder:"选择服务期始日期"},model:{value:e.fromParent.enterpriseUnitServiceStartDate,callback:function(t){e.$set(e.fromParent,"enterpriseUnitServiceStartDate",t)},expression:"fromParent.enterpriseUnitServiceStartDate"}})],1)]],2)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"服务期止:"}},[[r("div",{staticClass:"block"},[r("span",{staticClass:"demonstration"}),e._v(" "),r("el-date-picker",{attrs:{type:"date",disabled:e.pickerReadonly,placeholder:"选择服务期止日期"},model:{value:e.fromParent.enterpriseUnitServiceEndDate,callback:function(t){e.$set(e.fromParent,"enterpriseUnitServiceEndDate",t)},expression:"fromParent.enterpriseUnitServiceEndDate"}})],1)]],2)],1)],1),e._v(" "),r("el-row")],1),e._v(" "),r("el-form",{staticClass:"basic-information",attrs:{model:e.fromParent,"label-width":"160px","label-position":e.labelPosition}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"uploadFile"}},[r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/test/ownerunit/uploadEnterpriseAttach","list-type":"text","http-request":e.UploadImage,"file-list":e.fromParent.enterpriseUnitAttachment,"on-preview":e.handlePreview,"on-remove":e.handleRemove}},[r("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"}},[e._v("添加附件"),r("i",{staticClass:"el-icon-upload el-icon--right"})]),e._v(" "),r("h3",{staticClass:"title",staticStyle:{margin:"0px 10px",float:"left",color:"#009cff !important","font-size":"14px"}},[e._v("*支持word/pdf格式")])],1)],1)],1)],1)],1)])])],1)])},[],!1,null,"78180eca",null);t.default=component.exports},644:function(e,t,r){var content=r(856);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("440e2940",content,!0,{sourceMap:!1})},855:function(e,t,r){"use strict";var l=r(644);r.n(l).a},856:function(e,t,r){(e.exports=r(13)(!1)).push([e.i,".list-wrap[data-v-78180eca]{width:100%;overflow:hidden}.list-wrap[data-v-78180eca] .el-table{width:100%;padding:0;overflow:hidden}.list-wrap[data-v-78180eca] .el-table th{background:#f0f3f7}.list-wrap[data-v-78180eca] .el-table .el-table__body-wrapper{height:calc(100vh - 430px);overflow-y:auto}.hardware-form[data-v-78180eca]{font-size:0;padding:20px 20px 0}.hardware-form .el-form-item[data-v-78180eca]{width:20%;display:-webkit-inline-box;display:inline-flex;margin-right:0}.hardware-form .el-form-item .el-select[data-v-78180eca]{width:100%}.hardware-form .serch-btn button[data-v-78180eca]:first-child{margin-left:10px}[data-v-78180eca] .el-pagination{margin:0;padding-top:20px}@media screen and (max-width:1680px){.list-wrap[data-v-78180eca] .el-table .el-table__body-wrapper{height:calc(100vh - 410px)}}[data-v-78180eca] .top-tab .el-tabs__nav{margin-left:25px;height:0;line-height:65px}[data-v-78180eca] .top-tab .el-tabs__item{font-size:18px;font-weight:400;color:#25282e}[data-v-78180eca] .top-tab .el-tabs__item.is-active{color:#1c77ff}[data-v-78180eca] .top-tab .tab-content{padding:0 40px}[data-v-78180eca] .top-tab .tab-content .title{font-size:18px;font-weight:400;color:#25282e;margin:5px 0 10px}.main-wrap[data-v-78180eca]{overflow-y:auto}",""])}}]);