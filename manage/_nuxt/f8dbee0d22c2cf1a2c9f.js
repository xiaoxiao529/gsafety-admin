(window.webpackJsonp=window.webpackJsonp||[]).push([[1,36,37],{1156:function(t,e,l){"use strict";l.r(e);l(33),l(2),l(3),l(4),l(5);var o=l(478),n=l(762),r=l(760),c={components:{Pagination:o.a,TipsDialog:n.default,UserInfo:r.default},data:function(){return{isLoading:!1,lookFlag:!0,formData:{tel:null,name:null,unitId:null,appId:null,status:null},unitList:[],appList:[],statusList:[{value:0,label:"正常"},{value:2,label:"锁定"},{value:1,label:"注销"},{value:3,label:"删除"}],tableData:[],loading:!0,widgetInfo:{pageSize:10,pageNo:1,total:0},message:{setType:"",operateType:""}}},mounted:function(){this.findOrgBySysCode(),this.getSystemList()},computed:{},methods:{findOrgBySysCode:function(){var t=this;t.$axios.$POST_NEW({api_name:"findUserOrgBySysCode",params:{unitName:t.formData.unitId}}).then(function(e){if("success"==e.data.code){var l=e.data.data;t.unitList=l}else t.unitList=[],t.$message({message:e.data.message,type:"warning"})}).catch(function(){t.$message({message:"所属单位下拉数据获取异常",type:"warning"})})},getSystemList:function(){var t=this;t.$axios.$POST_NEW({api_name:"getAppSystemListNoPage"}).then(function(e){if("success"==e.data.code){var l=e.data.data;t.appList=l}else t.appList=[],t.$message({message:e.data.message,type:"warning"})}).catch(function(){t.$message({message:"所属应用下拉数据获取异常",type:"warning"})})},tipsHandel:function(){this.actualUsersPage("load")},lockHandel:function(t,e){this.message.setType="lock",this.message.operateType=2,this.$refs.tipDiloag.showDialog(t,e,this.message)},unlockHandel:function(t,e){this.message.setType="unlock",this.message.operateType=1,this.$refs.tipDiloag.showDialog(t,e,this.message)},actualUsersPage:function(t){var e=this;e.isLoading=!0,"search"==t&&(e.widgetInfo.pageNo=1),e.$axios.$POST_NEW({api_name:"findUserInfoListBySysCodeAndOrgCode",params:{userTelphone:e.formData.tel,userName:e.formData.name,orgCode:e.formData.unitId,sysCode:e.formData.appId,authStatus:e.formData.status,pageNo:e.widgetInfo.pageNo,pageSize:e.widgetInfo.pageSize}}).then(function(t){if(e.isLoading=!1,"success"==t.data.code){var l=t.data.data;e.tableData=l.rows,e.widgetInfo.total=null===l.total?0:l.total}else e.tableData=[],e.widgetInfo.list=data.rows,e.widgetInfo.total=0,console.log("没有数值。。。。。")})},sonHandleCurrentChange:function(t){this.widgetInfo.pageSize=t.pageSize?parseInt(t.pageSize):this.widgetInfo.pageSize,this.widgetInfo.pageNo=t.pageNo?parseInt(t.pageNo):this.widgetInfo.pageNo,this.actualUsersPage("load")},reset:function(){this.formData={},this.actualUsersPage("search")},setupInfo:function(t,e){this.$refs.stepInfo.initStupInfo(e)}}},d=(l(824),l(17)),component=Object(d.a)(c,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("div",{staticClass:"main-wrap main-wrap-other"},[l("div",{staticClass:"main-container"},[l("el-form",{ref:"formData",staticClass:"hardware-form",attrs:{inline:!0,model:t.formData}},[l("el-form-item",{attrs:{label:"手机号:","label-width":"70px"}},[l("el-input",{attrs:{placeholder:"请输入手机号",maxlength:"11"},model:{value:t.formData.tel,callback:function(e){t.$set(t.formData,"tel",e)},expression:"formData.tel"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"姓名:","label-width":"55px"}},[l("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"所属单位:","label-width":"95px"}},[l("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{change:t.findOrgBySysCode},model:{value:t.formData.unitId,callback:function(e){t.$set(t.formData,"unitId",e)},expression:"formData.unitId"}},t._l(t.unitList,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),l("el-form-item",{attrs:{label:"所属应用:","label-width":"95px"}},[l("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{change:t.getSystemList},model:{value:t.formData.appId,callback:function(e){t.$set(t.formData,"appId",e)},expression:"formData.appId"}},t._l(t.appList,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),l("el-form-item",{attrs:{label:"状态:","label-width":"55px"}},[l("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},t._l(t.statusList,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),l("el-form-item",{attrs:{label:" "}},[l("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.actualUsersPage("search")}}},[t._v("查询")]),t._v(" "),l("el-button",{attrs:{size:"small"},on:{click:t.reset}},[t._v("重置")])],1)],1),t._v(" "),l("div",{staticClass:"list-wrap"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading.lock",value:t.isLoading,expression:"isLoading",modifiers:{lock:!0}}],attrs:{data:t.tableData,stripe:"","show-overflow-tooltip":""}},[l("el-table-column",{attrs:{label:"姓名","show-overflow-tooltip":"","min-width":"7%"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-link",{attrs:{type:"primary"},on:{click:function(l){return t.setupInfo(e.$index,e.row)}}},[t._v("\n                  "+t._s(e.row.userName)+"\n                ")])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"用户名",prop:"loginName","show-overflow-tooltip":"","min-width":"8%"}}),t._v(" "),l("el-table-column",{attrs:{label:"手机号",prop:"userTelphone","show-overflow-tooltip":"","min-width":"8%"}}),t._v(" "),l("el-table-column",{attrs:{label:"角色",prop:"roleName","show-overflow-tooltip":"","min-width":"8%"}}),t._v(" "),l("el-table-column",{attrs:{label:"所属应用",prop:"sysName","show-overflow-tooltip":"","min-width":"8%"}}),t._v(" "),l("el-table-column",{attrs:{label:"所属单位",prop:"orgName","show-overflow-tooltip":"","min-width":"8%"}}),t._v(" "),l("el-table-column",{attrs:{label:"状态",prop:"userAuthStatusName","show-overflow-tooltip":"","min-width":"5%"}}),t._v(" "),l("el-table-column",{attrs:{label:"创建时间",prop:"createTime","show-overflow-tooltip":"","min-width":"8%"}}),t._v(" "),l("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":"",align:"center","min-width":"5%"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.userAuthStatus?l("el-link",{attrs:{type:"primary"},on:{click:function(l){return t.lockHandel(e.$index,e.row)}}},[t._v("锁定")]):t._e(),t._v(" "),2==e.row.userAuthStatus?l("el-link",{attrs:{type:"primary"},on:{click:function(l){return t.unlockHandel(e.$index,e.row)}}},[t._v("解锁")]):t._e(),t._v(" "),1==e.row.userAuthStatus?l("el-link",{attrs:{type:"primary",disabled:t.lookFlag}},[t._v("--")]):t._e()]}}])})],1),t._v(" "),l("Pagination",{attrs:{widgetInfo:t.widgetInfo},on:{sonHandleCurrentChange:t.sonHandleCurrentChange}})],1)],1)]),t._v(" "),l("user-info",{ref:"stepInfo"}),t._v(" "),l("tips-dialog",{ref:"tipDiloag",on:{loadData:t.tipsHandel}})],1)},[],!1,null,"47ec2aaa",null);e.default=component.exports},478:function(t,e,l){"use strict";l(2),l(3),l(4),l(5);var o={props:{widgetInfo:Object},data:function(){return{}},methods:{handleSizeChange:function(t){this.pageSize=t,this.$emit("sonHandleCurrentChange",{pageSize:this.pageSize})},handleCurrentChange:function(t){this.$emit("sonHandleCurrentChange",{pageNo:t})}},mounted:function(){this.$emit("sonHandleCurrentChange",{pageSize:10,pageNo:1})}},n=l(17),component=Object(n.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-pagination",{attrs:{"current-page":this.widgetInfo.pageNo,"page-sizes":[10,15,20,25],"page-size":this.widgetInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.widgetInfo.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],1)},[],!1,null,null,null);e.a=component.exports},491:function(t,e,l){"use strict";var o=l(15),n=l(504)(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),o(o.P+o.F*r,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),l(158)("find")},504:function(t,e,l){var o=l(53),n=l(157),r=l(54),c=l(41),d=l(505);t.exports=function(t,e){var l=1==t,f=2==t,v=3==t,m=4==t,h=6==t,_=5==t||h,w=e||d;return function(e,d,C){for(var y,x,I=r(e),k=n(I),S=o(d,C,3),D=c(k.length),N=0,$=l?w(e,D):f?w(e,0):void 0;D>N;N++)if((_||N in k)&&(x=S(y=k[N],N,I),t))if(l)$[N]=x;else if(x)switch(t){case 3:return!0;case 5:return y;case 6:return N;case 2:$.push(y)}else if(m)return!1;return h?-1:v||m?m:$}}},505:function(t,e,l){var o=l(506);t.exports=function(t,e){return new(o(t))(e)}},506:function(t,e,l){var o=l(18),n=l(241),r=l(6)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),o(e)&&null===(e=e[r])&&(e=void 0)),void 0===e?Array:e}},515:function(t,e,l){var content=l(616);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(14).default)("4d18c1e3",content,!0,{sourceMap:!1})},516:function(t,e,l){var content=l(618);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(14).default)("876ad04c",content,!0,{sourceMap:!1})},615:function(t,e,l){"use strict";var o=l(515);l.n(o).a},616:function(t,e,l){(t.exports=l(13)(!1)).push([t.i,".DialogStockWrap[data-v-3427a86c]{font-family:MicrosoftYaHei}",""])},617:function(t,e,l){"use strict";var o=l(516);l.n(o).a},618:function(t,e,l){(t.exports=l(13)(!1)).push([t.i,".DialogStockWrap[data-v-7317c5e6]{font-family:MicrosoftYaHei}.DialogStockWrap .stock-mian[data-v-7317c5e6]{margin:8px 0}.DialogStockWrap .stock-mian[data-v-7317c5e6] table.table-diy{width:100%;border-collapse:collapse;border:1px solid #dfdfdf}.DialogStockWrap .stock-mian[data-v-7317c5e6] table.table-diy td{border:1px solid #dfdfdf;padding:9px 5px;line-height:22px;font-size:14px}.DialogStockWrap .stock-mian[data-v-7317c5e6] table.table-diy .tr-title{background:#f7f7f7;color:#666;width:115px}.DialogStockWrap .stock-mian[data-v-7317c5e6] table.table-diy .tr-center{width:195px;color:#999}",""])},619:function(t,e,l){var content=l(825);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(14).default)("cfd197a2",content,!0,{sourceMap:!1})},760:function(t,e,l){"use strict";l.r(e);l(491),l(2),l(3),l(4),l(5);var o={data:function(){return{dialogSetupInfoVisible:!1,stepInfo:{roleName:"",system:""},userInfo:{userSexName:"",loginName:"",userEmail:"",userTelphone:"",userCardNo:"",sysName:"",roleName:"",exten:"",orgName:"",postName:"",createTime:"",lastLoginTime:"",userStatus:""},statusList:[{value:0,label:"正常"},{value:2,label:"锁定"},{value:1,label:"注销"},{value:3,label:"删除"}],sexList:[{value:0,label:"男"},{value:1,label:"女"}]}},mounted:function(){},computed:{},methods:{showLabel:function(t,e){return""===t||null==t?"--":e.find(function(e){return e.value==t}).label},initStupInfo:function(t){var e=this;e.dialogSetupInfoVisible=!0,e.isLoading=!0,e.$axios.$POST_NEW({api_name:"userfindUserByUserId",params:{userId:t.id,centerType:t.sysCode,orgCode:t.orgCode}}).then(function(t){if(e.isLoading=!1,"success"==t.data.code){var data=t.data.data;e.userInfo=data}else e.$message.error(t.data.message)}).catch(function(t){e.$message.error(t)})}}},n=(l(617),l(17)),component=Object(n.a)(o,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"DialogStockWrap"},[l("el-dialog",{attrs:{title:"用户详情",visible:t.dialogSetupInfoVisible,width:"650px"},on:{"update:visible":function(e){t.dialogSetupInfoVisible=e}}},[l("div",{staticClass:"stock-mian"},[l("table",{staticClass:"table-diy"},[l("tr",[l("td",{staticClass:"tr-title"},[t._v("姓名")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.userInfo.userName||"--"))]),t._v(" "),l("td",{staticClass:"tr-title"},[t._v("用户名")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.userInfo.loginName||"--"))])]),t._v(" "),l("tr",[l("td",{staticClass:"tr-title"},[t._v("性别")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.showLabel(t.userInfo.userSex,t.sexList)||"--"))]),t._v(" "),l("td",{staticClass:"tr-title"},[t._v("岗位")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.userInfo.postName||"--"))])]),t._v(" "),l("tr",[l("td",{staticClass:"tr-title"},[t._v("邮箱")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.userInfo.userEmail||"--"))]),t._v(" "),l("td",{staticClass:"tr-title"},[t._v("手机号")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.userInfo.userTelphone||"--"))])]),t._v(" "),l("tr",[l("td",{staticClass:"tr-title"},[t._v("身份证")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.userInfo.userCardNo||"--"))]),t._v(" "),l("td",{staticClass:"tr-title"},[t._v("应用")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.userInfo.sysName||"--"))])]),t._v(" "),l("tr",[l("td",{staticClass:"tr-title"},[t._v("角色")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.userInfo.roleName||"--"))]),t._v(" "),l("td",{staticClass:"tr-title"},[t._v("客服账号")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.userInfo.exten||"--"))])]),t._v(" "),l("tr",[l("td",{staticClass:"tr-title"},[t._v("创建时间")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.userInfo.createTime||"--"))]),t._v(" "),l("td",{staticClass:"tr-title"},[t._v("更新时间")]),t._v(" "),l("td",{staticClass:"tr-center"},[t._v(t._s(t.userInfo.updateTime||"--"))])]),t._v(" "),l("tr",[l("td",{staticClass:"tr-title"},[t._v("单位")]),t._v(" "),l("td",{staticClass:"tr-center",attrs:{colspan:"3"}},[t._v(t._s(t.userInfo.orgName||"--"))])]),t._v(" "),l("tr",[l("td",{staticClass:"tr-title"},[t._v("最近一次登录")]),t._v(" "),l("td",{staticClass:"tr-center",attrs:{colspan:"3"}},[t._v(t._s(t.userInfo.lastLoginTime||"--"))])])])])])],1)},[],!1,null,"7317c5e6",null);e.default=component.exports},762:function(t,e,l){"use strict";l.r(e);l(2),l(3),l(4),l(5);var o={data:function(){return{dialogTipsVisible:!1,isLoading:!1,userObj:{},effectiveUser:{},message:{}}},mounted:function(){this.userObj=this._Storage.getObj("userObj","userObj")},computed:{},methods:{showDialog:function(t,e,l){this.effectiveUser=e,this.dialogTipsVisible=!0,this.message=l},sureHandle:function(){var t=this;t.isLoading=!0,t.$axios.$POST_NEW({api_name:"lockOrUnlock",params:{lockUserId:t.userObj.id,userId:t.effectiveUser.id,centerType:t.effectiveUser.sysCode,orgCode:t.effectiveUser.orgCode,operateType:t.message.operateType}}).then(function(e){t.isLoading=!1,"success"==e.data.code?(t.isLoading=!1,t.dialogTipsVisible=!1,t.$message({message:e.data.message,type:"success"}),t.$emit("loadData")):(t.isLoading=!1,t.$message.error(e.data.message))}).catch(function(e){t.$message.error(e.data.message)})},cancalHandle:function(){this.dialogTipsVisible=!1,this.$message("取消操作")}}},n=(l(615),l(17)),component=Object(n.a)(o,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"DialogStockWrap"},[l("el-dialog",{attrs:{"custom-class":"del-dialog-wrap",visible:t.dialogTipsVisible,width:"280px"},on:{"update:visible":function(e){t.dialogTipsVisible=e}}},[l("div",{staticClass:"del-dialog-main"},[l("div",{staticClass:"icon-wrap"},[l("i",{staticClass:"el-icon-s-opportunity"})]),t._v(" "),"lock"==t.message.setType?l("div",{staticClass:"p-wrap"},[l("p",{staticClass:"title-p"},[t._v("确认锁定该账号？")]),t._v(" "),l("p",{staticClass:"tips-p"},[t._v("锁定后该账号将禁止登录当前应用！")])]):"unlock"==t.message.setType?l("div",{staticClass:"p-wrap"},[l("p",{staticClass:"title-p"},[t._v("确认解锁账号？")]),t._v(" "),l("p",{staticClass:"tips-p"},[t._v("解锁后将恢复账号当前应用登录权限")])]):t._e()]),t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:t.sureHandle}},[t._v("确 定")]),t._v(" "),l("el-button",{on:{click:t.cancalHandle}},[t._v("取 消")])],1)])],1)},[],!1,null,"3427a86c",null);e.default=component.exports},824:function(t,e,l){"use strict";var o=l(619);l.n(o).a},825:function(t,e,l){(t.exports=l(13)(!1)).push([t.i,".main-wrap-other[data-v-47ec2aaa]{border:none}.add-btn-style[data-v-47ec2aaa]{text-align:right;padding-right:25px;box-sizing:border-box}.hardware-form[data-v-47ec2aaa]{padding:20px 25px 0}.list-wrap[data-v-47ec2aaa]{height:calc(100vh - 315px);overflow:hidden}.list-wrap[data-v-47ec2aaa] .el-table{padding:0;overflow:hidden}.list-wrap[data-v-47ec2aaa] .el-table th{background:#f0f3f7}.list-wrap[data-v-47ec2aaa] .el-table .el-table__body-wrapper{height:calc(100vh - 448px);overflow-y:auto}@media screen and (max-width:1857px){.list-wrap[data-v-47ec2aaa]{height:calc(100vh - 371px)}.list-wrap[data-v-47ec2aaa] .el-table .el-table__body-wrapper{height:calc(100vh - 504px)}}@media screen and (max-width:1680px){.list-wrap[data-v-47ec2aaa]{height:calc(100vh - 341px)}.list-wrap[data-v-47ec2aaa] .el-table .el-table__body-wrapper{height:calc(100vh - 474px)}}",""])}}]);